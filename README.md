# resource_simulate
CPU, memory, and disk usage simulation tools to prevent server recycling

配置文件说明：

| 参数名称                   | 说明                                                         | 参考配置       |
|--------------------------|------------------------------------------------------------|------------|
| EnableCPU                | 是否启用CPU占用模拟                                           | true       |
| EnableMemory             | 是否启用内存占用模拟                                           | true       |
| EnableDisk               | 是否启用磁盘占用模拟                                           | true       |
| OnlyPrint                | 可选项，配置true不会启动模拟，仅打印硬件信息                           | false      |
| MonitorInterval          | 监控打印日志间隔（单位：毫秒）                                       | 5000       |
| UseCpuRate               | 配置CPU占用率<br>① 配置整体占用率，会根据系统核心数，自动配置，此时只填写一个值。<br>②模拟各个核心占用率，例如存在2个核心，可配置 60,40 ，代表一个占用60%，一个占用40% | 默认整体占用：80  |
| UseCPULogicCoreRate      | 一般情况下多核心CPU分为物理核心和逻辑核心，程序模拟为了尽量减少对业务程序影响，需要配置一个比率，配置该配置之后会在逻辑核心数量上乘以这个利率。取值范围 0-1. | 默认 0.7     |
| UseMemory                | 固定内存大小模式启动程序，配置模拟内存大小，单位MB（当UseMemoryRate大于1时生效），添加范围大概在 0.7 - 1 比例之间，例如配置1024M，添加范围716M -1024M之间 | 500M       |
| UseMemoryRate            | 内存大小比率方式启动程序，会扫描当前系统的内存，按照这个比率模拟内存。例如系统内存1024M， 该值设置为0.7，当系统运行的程序不足1024*0.7时，会填充到占用70%。 | 0.6        |
| DiskMinUseRate           | 配置磁盘最小占用率                                           | 60%        |
| DiskMaxUseRate           | 配置磁盘最大占用率                                           | 80%        |
| DiskFilePath             | 配置模拟磁盘占用文件的存储路径（支持多个分区，用，分隔）                     | /home,/mnt |

注意：JVM内存申请大小要根据设备真正内存设置Xmx参数， 例如32G内存， 可设置 -Xmx32g, 如果太小会出现OOM问题。
（例如 32G内存，jvm默认是8G, 启动时如果系统负载比较小，需要申请超过8G的内存，此时就会超过jvm的配置）